#include "stm32f10x.h"
#include "OLED.h"
#include "74HC138.h"
#include "STM32F103C_Dev_Board_V1.h"

// STM32F103C_Dev_Board_V1
_74HC138_TypeDef CS_74HC138;
void OLED1_CS_Callback(){_74HC138_Write(&CS_74HC138,1);}
void OLED2_CS_Callback(){_74HC138_Write(&CS_74HC138,2);}
void OLED3_CS_Callback(){_74HC138_Write(&CS_74HC138,3);}
void OLED4_CS_Callback(){_74HC138_Write(&CS_74HC138,4);}
OLED_SPI OLED1;
OLED_SPI OLED2;
OLED_SPI OLED3;
OLED_SPI OLED4;

void STM32F103C_Dev_Board_Init(){
	//74HC138
	CS_74HC138.A_GPIO=GPIOB;CS_74HC138.A_Pin=GPIO_Pin_11;
	CS_74HC138.B_GPIO=GPIOB;CS_74HC138.B_Pin=GPIO_Pin_12;
	CS_74HC138.C_GPIO=GPIOB;CS_74HC138.C_Pin=GPIO_Pin_13;
	_74HC138_Init(&CS_74HC138);

	//OLED
	OLED1.D0_GPIO	= GPIOA;OLED1.D0_Pin	= GPIO_Pin_7;//SCK
	OLED1.D1_GPIO	= GPIOA;OLED1.D1_Pin	= GPIO_Pin_5;//SDA
	OLED1.RES_GPIO	= GPIOG;OLED1.RES_Pin	= GPIO_Pin_0;//???
	OLED1.DC_GPIO	= GPIOB;OLED1.DC_Pin	= GPIO_Pin_10;
	OLED1.CS_Handler = OLED1_CS_Callback;
	OLED_Init(&OLED1);
	OLED2.D0_GPIO	= GPIOA;OLED2.D0_Pin	= GPIO_Pin_7;//SCK
	OLED2.D1_GPIO	= GPIOA;OLED2.D1_Pin	= GPIO_Pin_5;//SDA
	OLED2.RES_GPIO	= GPIOG;OLED2.RES_Pin	= GPIO_Pin_0;//???
	OLED2.DC_GPIO	= GPIOB;OLED2.DC_Pin	= GPIO_Pin_10;
	OLED2.CS_Handler = OLED2_CS_Callback;
	OLED_Init(&OLED2);
	OLED3.D0_GPIO	= GPIOA;OLED3.D0_Pin	= GPIO_Pin_7;//SCK
	OLED3.D1_GPIO	= GPIOA;OLED3.D1_Pin	= GPIO_Pin_5;//SDA
	OLED3.RES_GPIO	= GPIOG;OLED3.RES_Pin	= GPIO_Pin_0;//???
	OLED3.DC_GPIO	= GPIOB;OLED3.DC_Pin	= GPIO_Pin_10;
	OLED3.CS_Handler = OLED3_CS_Callback;
	OLED_Init(&OLED3);
	OLED4.D0_GPIO	= GPIOA;OLED4.D0_Pin	= GPIO_Pin_7;//SCK
	OLED4.D1_GPIO	= GPIOA;OLED4.D1_Pin	= GPIO_Pin_5;//SDA
	OLED4.RES_GPIO	= GPIOG;OLED4.RES_Pin	= GPIO_Pin_0;//???
	OLED4.DC_GPIO	= GPIOB;OLED4.DC_Pin	= GPIO_Pin_10;
	OLED4.CS_Handler = OLED4_CS_Callback;
	OLED_Init(&OLED4);
	
}
